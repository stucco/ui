<meta charset="US-ASCII">
<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/core-ajax/core-ajax.html">
<polymer-element name="rexster-detail-query-component" attributes="queryParams vertices edges">
    <template>
    	<core-ajax id="vertexReq" url="http://localhost:8182/graphs/graph/vertices/{{queryParams}}" handleAs="json" contentType="application/json" headers='{"Accept": "application/json"}' on-core-response="{{getVertices}}"></core-ajax>
      <core-ajax id="edgeReq" url="http://localhost:8182/graphs/graph/vertices/{{queryParams}}/bothE" handleAs="json" contentType="application/json" headers='{"Accept": "application/json"}' on-core-response="{{getEdges}}"></core-ajax>
    </template>
    <script>
        Polymer('rexster-detail-query-component', {
		      queryParams : "",
          vertices : [],
		      edges : [],
          ready : function() {
          },
          queryParamsChanged : function() {
              this.$.vertexReq.go();
          },
          getVertices : function() {
              this.vertices = this.$.vertexReq.response.results;
              this.$.edgeReq.go();
          },
          getEdges : function() {
              this.edges = this.$.edgeReq.response.results;
          }
        });
    </script>
</polymer-element>
