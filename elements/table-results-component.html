<meta charset="US-ASCII">
<link rel="import" href="../bower_components/polymer/polymer.html">
<polymer-element name="table-results-component" attributes="vertexProperties rowData detailId">
  <template>
      <style type="text/css">
        table {
          color: #333;
          border-collapse: collapse;
          border-spacing: 1px;
          font-size: 18px;
          border: 1px solid black;
          width: 75%;
          height: 50%;
        }
        tr, td {
          padding: 8px;
          border: 1px solid black;
        }
        #headerRow {
          font-weight: bold;
        }
      </style>
      <table>
        <tr id="headerRow">
          <td>ID</td>
          <template repeat="{{propName in vertexProperties}}">
            <td>{{propName}}</td>
          </template>
        </tr>
        <template repeat="{{vertex, index in rowData}}">
          <tr id="{{index}}" on-click="{{showDetails}}" on-mouseover="{{highlightRow}}" on-mouseout="{{unHighlightRow}}">
            <td>{{vertex["_id"]}}</td>
            <template repeat="{{propName in vertexProperties}}">
              <td>{{vertex[propName]}}</td>
            </template>
          </tr>
        </template>
      </table>
  </template>
  <script>
    Polymer('table-results-component', {
      rowData : [],
      detailId : "",
      headerRowCells : [],
      ready : function() {
        this.rowData = this.rowData || [];
      },
      rowDataChanged : function() {
        // for (prop in this.vertexProperties) {
        //   this.headerRowCells = this.headerRowCells.concat(prop);
        // }
        this.rowData = this.rowData;
      },
      showDetails : function(event, detail, sender) {
        this.detailId = this.rowData[sender.id]["_id"];
      },
      highlightRow : function(event, detail, sender) {
        sender.style.backgroundColor = '#F3F781';
      },
      unHighlightRow : function(event, detail, sender) {
        sender.style.backgroundColor = 'white';
      }
    });
  </script>
</polymer-element>